<!DOCTYPE html>
<html lang="en" class="scroll-smooth bg-[#f8fafc]">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Instrumental Music School | FUBC Band</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/abcjs@6.2.2/dist/abcjs-basic-min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/abcjs@6.2.2/abcjs-audio.min.css">
    
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <link rel="icon" type="image/png" href="/social-logo.png?v=2">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], heading: ['Montserrat', 'sans-serif'] },
                    colors: { pageBg: '#f8fafc', textMain: '#0f172a', textMuted: '#64748b', brass: '#b45309', brassLight: '#d97706', surface: '#ffffff' },
                    animation: { 
                        'fade-in-up': 'fadeInUp 0.6s ease-out forwards',
                        'marquee-mobile': 'marquee 25s linear infinite',
                        'marquee-desktop': 'marquee 45s linear infinite',
                    },
                    keyframes: {
                        fadeInUp: { '0%': { opacity: '0', transform: 'translateY(20px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        marquee: { '0%': { transform: 'translateX(0%)' }, '100%': { transform: 'translateX(-100%)' } }
                    }
                }
            }
        }
    </script>
    <style>
        [x-cloak] { display: none !important; }
        input[type=range] { -webkit-appearance: none; background: transparent; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 24px; width: 24px; border-radius: 50%; background: #b45309; margin-top: -10px; cursor: pointer; border: 2px solid white; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; cursor: pointer; background: #e2e8f0; border-radius: 99px; }
        
        #print-staves { display: none; }
        @media print { body > *:not(#print-staves) { display: none !important; } #print-staves { display: block !important; background: white; width: 100%; } .stave { border-bottom: 1px solid black; margin-bottom: 8px; height: 1px; width: 100%; } .stave-group { margin-bottom: 40px; } @page { margin: 0.5in; } }
        
        .abcjs-container svg { max-width: 100%; height: auto; border-radius: 0.5rem; }
        
        .abcjs-inline-audio { 
            background-color: #0f172a !important; 
            border-radius: 12px !important;
            padding: 12px 24px !important;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
            margin: 0 auto !important; 
            max-width: 500px; 
            display: flex; 
            align-items: center;
            justify-content: center;
            border: 2px solid #b45309 !important; 
        }
        .abcjs-btn { color: white !important; fill: white !important; background-color: #1e293b !important; border-radius: 50% !important; transition: all 0.2s ease !important; }
        .abcjs-btn:hover { background-color: #b45309 !important; transform: scale(1.05); }
        .abcjs-time-display { color: #f8fafc !important; font-family: ui-monospace, monospace !important; font-weight: bold !important; font-size: 14px !important;}
        .abcjs-midi-progress-background { background-color: #334155 !important; border: none !important;}
        .abcjs-midi-progress-indicator { background-color: #b45309 !important; }
    </style>
</head>

<body class="text-textMain antialiased bg-pageBg overflow-x-hidden" x-data="schoolApp" @scroll.window="scrollY = window.pageYOffset; scrollProgress = (window.pageYOffset / (document.documentElement.scrollHeight - window.innerHeight)) * 100">

    <div class="fixed top-0 left-0 h-1.5 bg-gradient-to-r from-brass to-brassLight z-[100] shadow-md transition-all duration-150 ease-linear" :style="'width: ' + scrollProgress + '%'"></div>

    <div x-show="profileModalOpen" x-transition.opacity class="fixed inset-0 z-[120] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4 w-full h-full" x-cloak>
        <div @click.away="profileModalOpen = false" class="bg-white rounded-3xl w-full max-w-lg max-h-[90vh] flex flex-col shadow-2xl overflow-hidden relative">
            <div class="p-6 border-b border-slate-100 bg-slate-50 flex justify-between items-center relative overflow-hidden">
                <div class="absolute inset-0 bg-brass/10"></div>
                <div class="flex items-center gap-4 relative z-10">
                    <div class="w-16 h-16 bg-slate-900 rounded-full flex items-center justify-center text-white text-2xl font-black font-heading shadow-md" x-text="studentName ? studentName.charAt(0).toUpperCase() : '?'"></div>
                    <div>
                        <div x-show="!isEditingName" class="flex items-center gap-2">
                            <h2 class="font-heading text-2xl font-bold text-slate-900" x-text="studentName || 'Student'"></h2>
                            <button @click="isEditingName = true" class="text-slate-400 hover:text-brass"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" /></svg></button>
                        </div>
                        <div x-show="isEditingName" class="flex items-center gap-2">
                            <input x-model="studentName" @keyup.enter="saveName()" type="text" class="border border-slate-300 rounded px-2 py-1 text-sm font-bold text-slate-900 focus:outline-none focus:border-brass">
                            <button @click="saveName()" class="bg-brass text-white px-3 py-1 rounded text-xs font-bold uppercase">Save</button>
                        </div>
                        <p class="text-xs font-bold uppercase tracking-widest mt-1" :class="getRankColor()" x-text="getRankName()"></p>
                    </div>
                </div>
                <button @click="profileModalOpen = false" class="text-slate-400 hover:text-brass transition-colors relative z-10"><svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg></button>
            </div>
            
            <div class="p-6 flex-grow overflow-y-auto bg-white space-y-8">
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-slate-50 border border-slate-100 p-4 rounded-2xl flex flex-col items-center justify-center text-center shadow-sm">
                        <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1">Total Time</span>
                        <div class="text-3xl font-black text-slate-900 leading-none">
                            <span x-text="Math.floor(totalMinutes / 60)"></span><span class="text-sm font-bold text-slate-500 ml-1">h</span>
                            <span x-text="totalMinutes % 60"></span><span class="text-sm font-bold text-slate-500 ml-1">m</span>
                        </div>
                    </div>
                    <div class="bg-slate-50 border border-slate-100 p-4 rounded-2xl flex flex-col items-center justify-center text-center shadow-sm">
                        <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1">Current Streak</span>
                        <div class="text-3xl font-black text-brass leading-none">
                            <span x-text="streak"></span><span class="text-sm font-bold text-slate-500 ml-1">days</span>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="font-heading text-sm font-bold text-slate-900 uppercase tracking-widest mb-3 border-b border-slate-100 pb-2">This Week's Activity</h3>
                    <div class="flex justify-between items-center bg-slate-50 p-4 rounded-xl border border-slate-200">
                        <template x-for="(day, index) in weekDays" :key="index">
                            <div class="flex flex-col items-center gap-2">
                                <span class="text-[10px] font-bold text-slate-400" x-text="day"></span>
                                <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-all duration-300"
                                     :class="hasPracticedOnDay(index) ? 'bg-emerald-100 text-emerald-600 border border-emerald-200 shadow-sm scale-110' : (index === currentDayOfWeek ? 'bg-white border-2 border-slate-300' : 'bg-white border border-slate-200')">
                                    <svg x-show="hasPracticedOnDay(index)" class="w-4 h-4 sm:w-5 sm:h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" /></svg>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
            <div class="p-4 bg-slate-50 border-t border-slate-100 text-center">
                <p class="text-[10px] text-slate-400 uppercase tracking-widest font-bold">Data saves locally to this device.</p>
            </div>
        </div>
    </div>

    <div x-show="fullScreenModalOpen" x-transition.opacity class="fixed inset-0 z-[110] flex items-center justify-center bg-slate-900/95 backdrop-blur-md p-4 w-full h-full" x-cloak>
        <div @click.away="closeFullScreen()" class="bg-white rounded-2xl w-full max-w-5xl h-full max-h-[90vh] flex flex-col shadow-2xl overflow-hidden relative">
            <div class="flex justify-between items-center p-4 sm:p-6 border-b border-slate-100 bg-slate-50 flex-shrink-0">
                <h3 class="font-heading text-lg sm:text-xl font-bold text-slate-900 uppercase tracking-widest truncate mr-4">
                    <span x-show="lang === 'en'" x-text="currentModalData.title_en"></span>
                    <span x-show="lang === 'ua'" x-text="currentModalData.title_ua"></span>
                </h3>
                <button @click="closeFullScreen()" class="text-slate-400 hover:text-brass transition-colors focus:outline-none p-2 rounded-full hover:bg-slate-200 flex-shrink-0">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
            </div>
            
            <div class="bg-slate-100 border-b-2 border-slate-200 p-4 sticky top-0 z-20 shadow-sm flex flex-col items-center justify-center">
                <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2"><span x-show="lang === 'en'">Auto-Play Synth</span><span x-show="lang === 'ua'" x-cloak>Авто-Плеєр</span></span>
                <div id="audio-control" class="w-full"></div>
            </div>

            <div class="p-4 sm:p-8 flex-grow overflow-auto bg-white flex items-start justify-center relative w-full">
                <div id="abc-fullscreen" class="w-full"></div>
            </div>
        </div>
    </div>

    <nav class="sticky top-0 z-40 bg-slate-100/95 backdrop-blur-md border-b border-slate-200/80 shadow-sm transition-colors duration-300 w-full" :class="mobileMenuOpen ? 'bg-slate-100 border-transparent' : ''">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative w-full">
            <div class="flex justify-between items-center h-16 w-full">
                <a href="#" @click.prevent="window.scrollTo({top: 0, behavior: 'smooth'})" class="flex items-center gap-2 sm:gap-3 hover:opacity-80 transition-opacity group z-50 relative shrink-0">
                    <div class="font-heading font-bold text-lg sm:text-xl md:text-2xl tracking-[0.1em] sm:tracking-[0.15em] text-slate-900 leading-none">
                        FUBC <span class="text-brass block text-[9px] sm:text-[10px] md:text-xs font-semibold tracking-[0.2em] sm:tracking-[0.35em] mt-0.5 group-hover:text-brassLight transition-colors">MUSIC SCHOOL</span>
                    </div>
                </a>
                
                <div class="md:hidden flex items-center gap-2 sm:gap-4 relative z-50 shrink-0">
                    <button @click="openProfile()" class="text-[10px] font-bold text-slate-700 hover:text-brass transition-colors uppercase tracking-widest border border-slate-200 px-2.5 py-1.5 rounded-full bg-white flex-shrink-0 flex items-center gap-1 shadow-sm">
                        <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                    </button>
                    <button @click="mobileMenuOpen = !mobileMenuOpen" class="p-2 text-slate-800 hover:text-brass transition-colors focus:outline-none flex-shrink-0">
                        <svg x-show="!mobileMenuOpen" class="w-6 h-6 sm:w-7 sm:h-7 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/></svg>
                        <svg x-show="mobileMenuOpen" class="w-6 h-6 sm:w-7 sm:h-7 transform transition-transform duration-300 rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" x-cloak><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
                    </button>
                </div>

                <div class="hidden md:flex items-center gap-6 relative z-50 shrink-0">
                    <button @click="lang = lang === 'en' ? 'ua' : 'en'; $nextTick(() => { renderWarmups(); renderScales(); });" class="text-xs font-bold text-slate-500 hover:text-slate-900 transition-colors uppercase tracking-widest border border-slate-200 px-3 py-1.5 rounded-full hover:border-brass/50 bg-slate-50 transition-all duration-200 hover:shadow-sm">
                        <span :class="lang === 'en' ? 'text-brass font-extrabold' : ''">EN</span><span class="text-slate-300 px-1">/</span><span :class="lang === 'ua' ? 'text-brass font-extrabold' : ''">UA</span>
                    </button>
                    <a href="#warmups" class="font-bold text-xs uppercase tracking-widest text-slate-500 hover:text-brass transition-colors"><span x-show="lang === 'en'">Warm-Ups</span><span x-show="lang === 'ua'" x-cloak>Розминка</span></a>
                    <a href="#scales" class="font-bold text-xs uppercase tracking-widest text-slate-500 hover:text-brass transition-colors"><span x-show="lang === 'en'">Scales</span><span x-show="lang === 'ua'" x-cloak>Гамми</span></a>
                    <a href="#setlist" class="font-bold text-xs uppercase tracking-widest text-slate-500 hover:text-brass transition-colors"><span x-show="lang === 'en'">Practice</span><span x-show="lang === 'ua'" x-cloak>Заняття</span></a>
                    <button @click="openProfile()" class="text-xs font-bold text-slate-700 bg-white border border-slate-200 px-4 py-1.5 rounded-full hover:border-brass hover:text-brass transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-md uppercase tracking-widest flex items-center gap-1.5">
                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                        <span x-show="lang === 'en'">Profile</span><span x-show="lang === 'ua'" x-cloak>Профіль</span>
                    </button>
                    <a href="/" class="text-xs font-bold text-white bg-slate-900 px-5 py-2 rounded-full hover:bg-brass transition-all duration-300 transform hover:-translate-y-0.5 hover:shadow-md uppercase tracking-widest"><span x-show="lang === 'en'">Main Band</span><span x-show="lang === 'ua'" x-cloak>Оркестр</span></a>
                </div>
            </div>
            
            <div class="absolute top-full left-0 w-full h-auto bg-slate-100 border-b-4 border-brass shadow-2xl md:hidden flex flex-col px-6 pb-6 transition-all duration-300 origin-top z-30" x-show="mobileMenuOpen" x-transition:enter="opacity-0 scale-y-0" x-transition:enter-end="opacity-100 scale-y-100" x-transition:leave="opacity-100 scale-y-100" x-transition:leave-end="opacity-0 scale-y-0" x-cloak>
                <div class="flex flex-col items-center justify-center space-y-5 mt-6">
                    <a href="#warmups" @click="mobileMenuOpen = false" class="text-xl font-heading font-bold text-slate-800 hover:text-brass transition-colors uppercase tracking-widest"><span x-show="lang === 'en'">Warm-Ups</span><span x-show="lang === 'ua'" x-cloak>Розминка</span></a>
                    <a href="#scales" @click="mobileMenuOpen = false" class="text-xl font-heading font-bold text-slate-800 hover:text-brass transition-colors uppercase tracking-widest"><span x-show="lang === 'en'">Scales</span><span x-show="lang === 'ua'" x-cloak>Гамми</span></a>
                    <a href="#setlist" @click="mobileMenuOpen = false" class="text-xl font-heading font-bold text-slate-800 hover:text-brass transition-colors uppercase tracking-widest"><span x-show="lang === 'en'">Practice</span><span x-show="lang === 'ua'" x-cloak>Заняття</span></a>
                    <div class="w-full h-px bg-slate-200 my-2"></div>
                    <a href="/" class="text-sm font-bold text-white bg-slate-900 px-8 py-3 rounded-full hover:bg-brass transition-colors uppercase tracking-widest shadow-sm"><span x-show="lang === 'en'">Main Band Site</span><span x-show="lang === 'ua'" x-cloak>Головний сайт</span></a>
                </div>
            </div>
        </div>
    </nav>

    <div class="relative w-full h-[350px] sm:h-[450px] bg-slate-900 overflow-hidden">
        <img src="https://images.unsplash.com/photo-1573871669414-010dbf73ca84?q=80&w=2071&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover opacity-40 will-change-transform" :style="'transform: translateY(' + (scrollY * 0.4) + 'px)'" alt="Brass Instruments">
        <div class="absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/30 to-slate-900"></div>
        <div class="absolute inset-0 flex flex-col items-center justify-center text-center px-4 pt-4 sm:pt-10 z-10 animate-fade-in-up">
            <h1 class="font-heading text-2xl sm:text-4xl md:text-5xl font-bold text-white tracking-tight mb-4 drop-shadow-2xl max-w-4xl mx-auto leading-snug px-2">
                <span x-show="lang === 'en'">Instrumental Music School</span>
                <span x-show="lang === 'ua'" x-cloak>Інструментальна Школа</span>
            </h1>
        </div>
        <div class="absolute bottom-0 left-0 w-full overflow-hidden leading-[0] z-20 pointer-events-none">
            <svg class="relative block w-full h-[40px] sm:h-[100px]" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none"><path d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z" class="fill-[#f8fafc]"></path></svg>
        </div>
    </div>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 space-y-8 sm:space-y-12 relative z-30 -mt-20 sm:-mt-24 pointer-events-auto w-full">

        <div class="bg-gradient-to-r from-slate-900 to-slate-800 rounded-2xl shadow-xl border border-slate-700 p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-6 relative z-20 animate-fade-in-up" style="animation-delay: 0.1s;">
            <div class="flex items-center gap-4 text-center sm:text-left w-full sm:w-auto justify-center sm:justify-start">
                <div class="p-3 bg-brass/20 rounded-full hidden md:block shrink-0">
                    <svg class="w-8 h-8 text-brassLight" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"/></svg>
                </div>
                <div>
                    <h2 class="text-white font-bold text-lg sm:text-xl font-heading tracking-wide">
                        <span x-show="lang === 'en'">Select Your Instrument</span>
                        <span x-show="lang === 'ua'" x-cloak>Оберіть Ваш Інструмент</span>
                    </h2>
                    <p class="text-slate-400 text-xs sm:text-sm mt-1">
                        <span x-show="lang === 'en'">Sheet music and tools will automatically adjust to proper ranges.</span>
                        <span x-show="lang === 'ua'" x-cloak>Ноти та інструменти автоматично підлаштуються під ваш діапазон.</span>
                    </p>
                </div>
            </div>
            <div class="relative w-full sm:w-72 shrink-0">
                <select x-model="globalInstrument" @change="updateGlobalInstrument($event.target.value)" class="w-full bg-slate-800 text-white border-2 border-slate-600 rounded-xl px-4 py-3 sm:px-5 sm:py-3.5 text-base sm:text-lg font-bold focus:outline-none focus:border-brass transition-colors cursor-pointer appearance-none shadow-inner">
                    <template x-for="inst in availableInstruments" :key="inst">
                        <option :value="inst" x-text="inst"></option>
                    </template>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none">
                    <svg class="w-5 h-5 text-brass" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 animate-fade-in-up" style="animation-delay: 0.2s;">
            <div class="bg-white rounded-2xl shadow-md border border-slate-200 p-5 sm:p-6 flex flex-col justify-between relative overflow-hidden transition-all duration-300 hover:shadow-lg">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="font-heading font-bold text-slate-900 text-base sm:text-lg">
                            <span x-show="lang === 'en'">Weekly Progress</span><span x-show="lang === 'ua'" x-cloak>Прогрес за тиждень</span>
                        </h3>
                        <p class="text-xs text-slate-500 mt-1">
                            <span x-show="lang === 'en'">Build your habit!</span><span x-show="lang === 'ua'" x-cloak>Формуйте звичку!</span>
                        </p>
                    </div>
                    <div class="text-right">
                        <div class="text-2xl sm:text-3xl font-black text-brass leading-none" x-text="streak"></div>
                        <span class="text-[10px] text-slate-400 font-bold uppercase tracking-widest"><span x-show="lang === 'en'">Day Streak</span><span x-show="lang === 'ua'" x-cloak>Днів поспіль</span></span>
                    </div>
                </div>
                
                <div class="flex justify-between items-center bg-slate-50 p-3 rounded-xl border border-slate-100 mb-4">
                    <template x-for="(day, index) in weekDays" :key="index">
                        <div class="flex flex-col items-center gap-1.5">
                            <span class="text-[10px] font-bold text-slate-400" x-text="day"></span>
                            <div class="w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center transition-colors duration-300"
                                 :class="hasPracticedOnDay(index) ? 'bg-emerald-100 text-emerald-600 border border-emerald-200' : (index === currentDayOfWeek ? 'bg-white border-2 border-slate-300' : 'bg-white border border-slate-200')">
                                <svg x-show="hasPracticedOnDay(index)" class="w-3.5 h-3.5 sm:w-4 sm:h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" /></svg>
                            </div>
                        </div>
                    </template>
                </div>
                
                <button @click="logPractice()" class="w-full py-3 rounded-xl font-bold text-xs sm:text-sm uppercase tracking-widest transition-all duration-300 shadow-sm border"
                    :class="practicedToday ? 'bg-emerald-50 text-emerald-700 border-emerald-200 cursor-default' : 'bg-slate-900 border-transparent text-white hover:bg-brass hover:shadow-md'">
                    <span x-show="!practicedToday">
                        <span x-show="lang === 'en'">Mark as Practiced ✓</span><span x-show="lang === 'ua'" x-cloak>Я займався сьогодні ✓</span>
                    </span>
                    <span x-show="practicedToday">
                        <span x-show="lang === 'en'">Done for today!</span><span x-show="lang === 'ua'" x-cloak>Готово на сьогодні!</span>
                    </span>
                </button>
            </div>

            <div class="bg-white rounded-2xl shadow-md border border-slate-200 p-6 sm:p-8 flex flex-col relative overflow-hidden transition-all duration-300 hover:shadow-lg">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4 border-b border-slate-100 pb-4">
                    <div>
                        <h3 class="font-heading font-bold text-slate-900 text-lg sm:text-2xl">
                            <span x-show="lang === 'en'">Guided Session</span><span x-show="lang === 'ua'" x-cloak>Таймер Занять</span>
                        </h3>
                    </div>
                    <div class="text-4xl sm:text-5xl font-mono font-black text-slate-900 tracking-tight" x-text="formatTime(sessionTimeLeft)">00:00</div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                    <template x-for="(phase, idx) in sessionPhases" :key="idx">
                        <button @click="startSessionPhase(idx)" 
                            class="flex flex-col items-start w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 text-left group"
                            :class="sessionPhase === idx && sessionActive ? 'bg-brass border-brass text-white shadow-md transform scale-[1.02]' : 'bg-slate-50 border-slate-200 hover:border-brass hover:bg-white text-slate-600'">
                            <div class="flex items-center gap-2 w-full mb-1">
                                <span class="font-bold text-xs uppercase tracking-widest" :class="sessionPhase === idx && sessionActive ? 'text-white' : 'text-slate-900'" x-text="lang === 'en' ? phase.name_en : phase.name_ua"></span>
                            </div>
                            <span class="text-xs font-mono font-bold opacity-80" x-text="formatTime(phase.duration)"></span>
                        </button>
                    </template>
                </div>
                
                <div class="flex flex-col sm:flex-row justify-between items-center mt-6 gap-4">
                    <div class="w-full bg-slate-100 h-2.5 rounded-full overflow-hidden shadow-inner">
                        <div class="bg-brass h-full transition-all duration-1000 ease-linear" :style="sessionActive ? `width: ${(1 - sessionTimeLeft / sessionPhases[sessionPhase].duration) * 100}%` : 'width: 0%'"></div>
                    </div>
                    <button @click="toggleSession()" class="w-full sm:w-auto bg-slate-900 text-white px-8 py-3 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-brass transition-all duration-300 shadow-md flex-shrink-0" x-text="sessionActive ? (lang === 'en' ? 'Pause Timer' : 'Пауза') : (lang === 'en' ? 'Start Timer' : 'Старт')"></button>
                </div>
            </div>
        </div>

        <section id="warmups" class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden scroll-mt-24 transition-all duration-300 hover:shadow-md animate-fade-in-up" style="animation-delay: 0.3s;">
            <div class="px-5 sm:px-6 py-5 sm:py-6 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                <div>
                    <h2 class="font-heading text-xl font-bold text-slate-900">
                        <span x-show="lang === 'en'">Daily Warm-Ups</span>
                        <span x-show="lang === 'ua'" x-cloak>Щоденна Розминка</span>
                    </h2>
                    <p class="text-xs text-slate-500 mt-1">
                        <span x-show="lang === 'en'">Click any sheet to expand and open the auto-player.</span>
                        <span x-show="lang === 'ua'" x-cloak>Натисніть на ноти для розгортання та авто-плеєра.</span>
                    </p>
                </div>
            </div>
            
            <div class="p-4 sm:p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 bg-slate-50/50">
                <template x-for="(ex, index) in exercises" :key="index">
                    <div @click="openFullScreen(index, 'exercises')" class="bg-white rounded-xl border border-slate-200 p-4 sm:p-5 shadow-sm transform transition-all hover:-translate-y-1 hover:border-brass hover:shadow-md cursor-pointer group relative flex flex-col overflow-hidden">
                        <div class="flex justify-between items-center mb-3 border-b border-slate-100 pb-2">
                            <h3 class="font-heading text-xs sm:text-sm font-bold text-slate-900 uppercase tracking-widest group-hover:text-brass transition-colors truncate pr-2">
                                <span x-show="lang === 'en'" x-text="ex.title_en"></span>
                                <span x-show="lang === 'ua'" x-cloak x-text="ex.title_ua"></span>
                            </h3>
                            <div class="bg-slate-50 p-1.5 rounded-lg group-hover:bg-brass/10 transition-colors flex-shrink-0 text-slate-400 group-hover:text-brass flex items-center gap-1">
                                <span class="text-[9px] font-bold uppercase tracking-widest hidden sm:block">Open</span>
                                <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" /></svg>
                            </div>
                        </div>
                        <div class="w-full overflow-x-auto min-h-[60px] sm:min-h-[80px] pointer-events-none flex items-center justify-start sm:justify-center opacity-80 group-hover:opacity-100 transition-opacity">
                            <div :id="'abc-warmup-' + index" class="w-full min-w-min"></div>
                        </div>
                    </div>
                </template>
            </div>
        </section>

        <section id="scales" class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden scroll-mt-24 transition-all duration-300 hover:shadow-md animate-fade-in-up" style="animation-delay: 0.4s;">
            <div class="px-5 sm:px-6 py-5 sm:py-6 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                <div>
                    <h2 class="font-heading text-xl font-bold text-slate-900">
                        <span x-show="lang === 'en'">Fundamental Scales</span>
                        <span x-show="lang === 'ua'" x-cloak>Базові Гамми</span>
                    </h2>
                    <p class="text-xs text-slate-500 mt-1">
                        <span x-show="lang === 'en'">Standard pedagogical ranges for your specific instrument.</span>
                        <span x-show="lang === 'ua'" x-cloak>Стандартні діапазони для вашого інструменту.</span>
                    </p>
                </div>
            </div>
            
            <div class="p-4 sm:p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 bg-slate-50/50">
                <template x-for="(sc, index) in scales" :key="'sc'+index">
                    <div @click="openFullScreen(index, 'scales')" class="bg-white rounded-xl border border-slate-200 p-4 sm:p-5 shadow-sm transform transition-all hover:-translate-y-1 hover:border-brass hover:shadow-md cursor-pointer group relative flex flex-col overflow-hidden">
                        <div class="flex justify-between items-center mb-3 border-b border-slate-100 pb-2">
                            <h3 class="font-heading text-xs sm:text-sm font-bold text-slate-900 uppercase tracking-widest group-hover:text-brass transition-colors truncate pr-2">
                                <span x-show="lang === 'en'" x-text="sc.title_en"></span>
                                <span x-show="lang === 'ua'" x-cloak x-text="sc.title_ua"></span>
                            </h3>
                            <div class="bg-slate-50 p-1.5 rounded-lg group-hover:bg-brass/10 transition-colors flex-shrink-0 text-slate-400 group-hover:text-brass flex items-center gap-1">
                                <span class="text-[9px] font-bold uppercase tracking-widest hidden sm:block">Open</span>
                                <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" /></svg>
                            </div>
                        </div>
                        <div class="w-full overflow-x-auto min-h-[60px] sm:min-h-[80px] pointer-events-none flex items-center justify-start sm:justify-center opacity-80 group-hover:opacity-100 transition-opacity">
                            <div :id="'abc-scale-' + index" class="w-full min-w-min"></div>
                        </div>
                    </div>
                </template>
            </div>
        </section>

        <section id="setlist" class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden scroll-mt-24 transition-all duration-300 hover:shadow-md animate-fade-in-up" style="animation-delay: 0.5s;">
            <div class="px-5 sm:px-6 py-5 sm:py-6 border-b border-slate-100 flex items-center justify-between">
                <h2 class="font-heading text-xl font-bold text-slate-900">
                    <span x-show="lang === 'en'">Current Repertoire</span><span x-show="lang === 'ua'" x-cloak>Поточний Репертуар</span>
                </h2>
                <span class="text-[10px] sm:text-xs font-bold bg-brass/10 text-brass px-2 sm:px-3 py-1 rounded-full uppercase tracking-wider" x-text="schoolSongs.length + (lang === 'en' ? ' Songs' : ' Пісень')"></span>
            </div>
            
            <div x-show="schoolSongs.length === 0" class="p-8 text-center text-slate-400 text-sm animate-pulse">Loading setlist from database...</div>

            <div x-show="schoolSongs.length > 0" class="p-4 sm:p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 bg-slate-50/50">
                <template x-for="song in schoolSongs" :key="song.title">
                    <div class="bg-white rounded-xl border border-slate-200 p-4 sm:p-5 shadow-sm hover:shadow-md hover:border-brass transition-all duration-300 transform hover:-translate-y-1 flex flex-col group">
                        <div class="text-[9px] sm:text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2"><span x-show="lang === 'en'">Sheet Music</span><span x-show="lang === 'ua'" x-cloak>Ноти</span></div>
                        <h3 class="font-heading text-base sm:text-lg font-bold text-slate-900 mb-1 group-hover:text-brass transition-colors" x-text="song.title"></h3>
                        <p class="text-slate-500 text-xs sm:text-sm mb-4 flex-grow" x-text="lang === 'en' ? song.desc_en : song.desc_ua"></p>
                        <a :href="song.link" target="_blank" class="mt-auto text-[10px] sm:text-xs font-bold text-brass hover:text-brassLight flex items-center gap-1">
                            <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                            <span x-show="lang === 'en'">Open Music</span><span x-show="lang === 'ua'" x-cloak>Відкрити</span>
                        </a>
                    </div>
                </template>
            </div>
        </section>

        <section id="fingering" class="scroll-mt-24 transition-all duration-300 animate-fade-in-up" style="animation-delay: 0.6s;">
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 flex flex-col transition-all duration-300 hover:shadow-md overflow-hidden w-full">
                <div class="p-5 sm:p-6 border-b border-slate-100 bg-slate-50 flex flex-col sm:flex-row justify-between items-center gap-4">
                    <div class="text-center sm:text-left">
                        <h3 class="font-heading text-xl sm:text-2xl font-bold text-slate-900">
                            <span x-show="lang === 'en'">Interactive Fingering Chart</span><span x-show="lang === 'ua'" x-cloak>Інтерактивна Аплікатура</span>
                        </h3>
                    </div>
                    <div class="text-xs sm:text-sm font-black text-brass uppercase tracking-widest bg-white border border-slate-200 px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg shadow-sm" x-text="globalInstrument"></div>
                </div>
                
                <div class="p-4 sm:p-8 flex flex-col items-center flex-grow bg-white w-full relative">
                    <div class="flex justify-center gap-1.5 sm:gap-2 mb-6 sm:mb-8 bg-slate-100 p-1.5 rounded-full shadow-inner max-w-full overflow-x-auto w-full">
                        <template x-for="r in interactiveChart.ranges">
                            <button @click="interactiveChart.selectedRange = r; interactiveChart.selectedNote = 0;"
                                    class="px-4 py-1.5 sm:px-5 sm:py-2 text-[10px] sm:text-xs font-bold uppercase rounded-full transition-all duration-200 flex-1 sm:flex-none text-center"
                                    :class="interactiveChart.selectedRange === r ? 'bg-slate-800 text-white shadow-md' : 'text-slate-500 hover:bg-slate-200 hover:text-slate-900'"
                                    x-text="lang === 'en' ? r : (r === 'Low' ? 'Низька' : (r === 'Mid' ? 'Середня' : 'Висока'))"></button>
                        </template>
                    </div>
                    
                    <div class="flex flex-wrap gap-1.5 sm:gap-2.5 justify-center mb-6 sm:mb-8 w-full max-w-2xl min-h-[40px]">
                        <template x-for="(note, index) in interactiveChart.data[interactiveChart.instrument].notes[interactiveChart.selectedRange]">
                            <button @click="interactiveChart.selectedNote = index;"
                                :class="interactiveChart.selectedNote === index ? 'bg-brass text-white shadow-md scale-105 border-brass' : 'bg-slate-50 text-slate-600 hover:bg-slate-200 hover:text-slate-900 border-slate-200'"
                                class="px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-lg font-bold text-xs sm:text-sm transition-all duration-200 border"
                                x-text="note.name">
                            </button>
                        </template>
                    </div>

                    <div class="w-full max-w-lg bg-slate-50 border border-slate-200 shadow-inner rounded-2xl p-6 sm:p-10 flex flex-col justify-center items-center min-h-[200px] sm:min-h-[260px] overflow-hidden relative">
                        
                        <template x-if="interactiveChart.data[interactiveChart.instrument].type === 'valves'">
                            <div class="flex gap-4 sm:gap-8 mt-2 mb-6">
                                <template x-for="(v, i) in interactiveChart.data[interactiveChart.instrument].notes[interactiveChart.selectedRange][interactiveChart.selectedNote].val">
                                    <div class="flex flex-col items-center gap-3 sm:gap-4">
                                        <div class="w-12 h-12 sm:w-16 sm:h-16 rounded-full border-[4px] sm:border-[5px] shadow-md transition-all duration-300"
                                             :class="v ? 'bg-brass border-brass scale-95 shadow-inner' : 'bg-white border-slate-300'"></div>
                                        <span class="font-black text-slate-400 text-xs sm:text-sm" x-text="i+1"></span>
                                    </div>
                                </template>
                            </div>
                        </template>
                        
                        <template x-if="interactiveChart.data[interactiveChart.instrument].type === 'slide'">
                            <div class="flex flex-col items-center w-full max-w-md mt-2 mb-6">
                                <span class="text-5xl sm:text-6xl font-black text-brass mb-2 transition-all duration-300" x-text="interactiveChart.data[interactiveChart.instrument].notes[interactiveChart.selectedRange][interactiveChart.selectedNote].pos"></span>
                                <span class="text-xs sm:text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 sm:mb-8">
                                    <span x-show="lang === 'en'">Position</span><span x-show="lang === 'ua'" x-cloak>Позиція</span>
                                </span>
                                
                                <div class="w-full h-4 sm:h-5 bg-slate-200 rounded-full relative flex items-center mt-2 mb-3 shadow-inner">
                                    <div class="absolute h-8 w-8 sm:h-10 sm:w-10 bg-brass rounded-full shadow-lg transition-all duration-500 ease-in-out border-[3px] sm:border-4 border-white"
                                         class="-ml-4 sm:-ml-5"
                                         :style="`left: ${ (interactiveChart.data[interactiveChart.instrument].notes[interactiveChart.selectedRange][interactiveChart.selectedNote].pos - 1) * (100 / 6) }%`"></div>
                                </div>
                                <div class="w-full flex justify-between mt-2 text-[10px] sm:text-xs font-bold text-slate-400 px-1">
                                    <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span>
                                </div>
                            </div>
                        </template>
                        
                        <template x-if="interactiveChart.data[interactiveChart.instrument].type === 'woodwind'">
                            <div class="flex flex-col sm:flex-row items-center gap-6 sm:gap-10 mt-2 mb-6">
                                <div class="flex items-center gap-2 sm:gap-4 bg-white px-3 py-3 sm:px-5 sm:py-4 rounded-2xl border border-slate-200 shadow-sm">
                                    <span class="text-xs sm:text-sm font-bold text-slate-400 w-6 sm:w-8 text-right">LH</span>
                                    <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full border-[3px] sm:border-[4px] shadow-sm transition-all duration-300 flex-shrink-0"
                                         :class="interactiveChart.data[interactiveChart.instrument].notes[interactiveChart.selectedRange][interactiveChart.selectedNote].lh[0] ? 'bg-brass border-brass scale-95 shadow-inner' : 'bg-slate-50 border-slate-300'"></div>
                                    <div class="w-px h-10 sm:h-12 bg-slate-200 mx-1 sm:mx-2"></div>
                                    <div class="flex gap-1.5 sm:gap-3">
                                        <template x-for="i in [1, 2, 3]">
                                            <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full border-[3px] sm:border-[4px] shadow-sm transition-all duration-300 flex-shrink-0"
                                                 :class="interactiveChart.data[interactiveChart.instrument].notes[interactiveChart.selectedRange][interactiveChart.selectedNote].lh[i] ? 'bg-brass border-brass scale-95 shadow-inner' : 'bg-slate-50 border-slate-300'"></div>
                                        </template>
                                    </div>
                                </div>
                                
                                <div class="flex items-center gap-2 sm:gap-4 bg-white px-3 py-3 sm:px-5 sm:py-4 rounded-2xl border border-slate-200 shadow-sm">
                                    <span class="text-xs sm:text-sm font-bold text-slate-400 w-6 sm:w-8 text-right">RH</span>
                                    <div class="flex gap-1.5 sm:gap-3">
                                        <template x-for="i in [0, 1, 2]">
                                            <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full border-[3px] sm:border-[4px] shadow-sm transition-all duration-300 flex-shrink-0"
                                                 :class="interactiveChart.data[interactiveChart.instrument].notes[interactiveChart.selectedRange][interactiveChart.selectedNote].rh[i] ? 'bg-brass border-brass scale-95 shadow-inner' : 'bg-slate-50 border-slate-300'"></div>
                                        </template>
                                    </div>
                                    <div class="w-px h-10 sm:h-12 bg-slate-200 mx-1 sm:mx-2"></div>
                                    <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full border-[3px] sm:border-[4px] shadow-sm transition-all duration-300 flex-shrink-0"
                                         :class="interactiveChart.data[interactiveChart.instrument].notes[interactiveChart.selectedRange][interactiveChart.selectedNote].rh[3] ? 'bg-brass border-brass scale-95 shadow-inner' : 'bg-slate-50 border-slate-300'"></div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-slate-200 py-12 text-center mt-auto">
        <div class="max-w-7xl mx-auto px-4 space-y-4">
            <div class="font-bold text-slate-900 tracking-tight text-lg">FUBC <span class="text-brass">MUSIC SCHOOL</span></div>
            <p class="text-xs text-slate-400">&copy; 2026 First Ukrainian Baptist Church Band.</p>
            <p class="text-[10px] sm:text-xs text-slate-400 mt-2 uppercase tracking-widest font-bold">Created and designed by Roman Kucheryavyy</p>
        </div>
    </footer>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('schoolApp', () => ({
                lang: 'en',
                mobileMenuOpen: false,
                
                fullScreenModalOpen: false,
                currentFullScreenIdx: 0,
                currentFullScreenType: 'exercises', // 'exercises' or 'scales'
                
                scrollY: 0,
                scrollProgress: 0,
                
                // Profile & User State
                profileModalOpen: false,
                studentName: localStorage.getItem('fubc_student_name') || '',
                isEditingName: false,
                totalMinutes: parseInt(localStorage.getItem('fubc_total_minutes')) || 0,
                
                openProfile() {
                    this.profileModalOpen = true;
                    if(!this.studentName) this.isEditingName = true;
                },
                saveName() {
                    this.isEditingName = false;
                    localStorage.setItem('fubc_student_name', this.studentName);
                },
                getRankName() {
                    let hrs = this.totalMinutes / 60;
                    if(hrs < 1) return this.lang === 'en' ? 'Beginner' : 'Початківець';
                    if(hrs < 5) return this.lang === 'en' ? 'Apprentice' : 'Учень';
                    if(hrs < 20) return this.lang === 'en' ? 'Musician' : 'Музикант';
                    if(hrs < 50) return this.lang === 'en' ? 'Section Leader' : 'Лідер групи';
                    return this.lang === 'en' ? 'Maestro' : 'Маестро';
                },
                getRankColor() {
                    let hrs = this.totalMinutes / 60;
                    if(hrs < 5) return 'text-slate-500';
                    if(hrs < 20) return 'text-emerald-500';
                    if(hrs < 50) return 'text-blue-500';
                    return 'text-brass';
                },

                // --- GLOBAL INSTRUMENT STATE ---
                availableInstruments: ['Flute', 'Oboe', 'Clarinet', 'Saxophone', 'Trumpet', 'French Horn', 'Tenor Horn', 'Baritone', 'Trombone', 'Tuba'],
                globalInstrument: localStorage.getItem('fubc_school_instrument') || 'Trumpet',
                
                // 6 Distinct Groups for accurate pedagogical ranges
                // 0: Flute/Oboe (C Treble)
                // 1: Clarinet/Trumpet (Bb Treble)
                // 2: Alto Sax/Eb Horn (Eb Treble)
                // 3: French Horn (F Treble)
                // 4: Trombone/Baritone (C Bass)
                // 5: Tuba (C Bass 8vb)
                selectedGroup: 0,

                instrumentGroups: [
                    { clef: 'treble' },
                    { clef: 'treble' },
                    { clef: 'treble' },
                    { clef: 'treble' },
                    { clef: 'bass' },
                    { clef: 'bass' }
                ],

                // Weekly Practice Tracker Logic
                streak: parseInt(localStorage.getItem('fubc_school_streak')) || 0,
                lastPractice: localStorage.getItem('fubc_school_last_date') || '',
                practicedToday: false,
                practicedLog: JSON.parse(localStorage.getItem('fubc_school_weekly_log')) || [],
                weekDays: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],
                
                get currentDayOfWeek() { return new Date().getDay(); },

                hasPracticedOnDay(dayIndex) {
                    const today = new Date();
                    const dayDiff = today.getDay() - dayIndex;
                    const targetDate = new Date(today);
                    targetDate.setDate(today.getDate() - dayDiff);
                    return this.practicedLog.includes(targetDate.toDateString());
                },
                
                // Session Timer Logic
                sessionActive: false,
                sessionTimer: null,
                sessionPhase: 0,
                sessionTimeLeft: 300, 
                sessionPhases: [
                    { name_en: 'Warm-Ups', name_ua: 'Розминка', duration: 300 },
                    { name_en: 'Repertoire', name_ua: 'Репертуар', duration: 900 },
                    { name_en: 'Review', name_ua: 'Повторення', duration: 300 }
                ],

                synthControl: null,
                schoolSongs: [],

                // WARMUPS (Concert Bb transposed for proper range)
                exercises: [
                    { 
                        title_en: '1. Long Tones', title_ua: '1. Довгі Ноти',
                        keys: ['Bb', 'C', 'G', 'F', 'Bb', 'Bb'],
                        abc: [
                            'L:1/4\nB4 | A4 | G4 | F4 | E4 | D4 | C4 | B,4 |]', // Flute: B4 down to B3
                            'L:1/4\nc4 | B4 | A4 | G4 | F4 | E4 | D4 | C4 |]', // Trpt/Clar: C5 down to C4
                            'L:1/4\nG4 | F4 | E4 | D4 | C4 | B,4 | A,4 | G,4 |]', // Sax: G4 down to G3
                            'L:1/4\nF4 | E4 | D4 | C4 | B,4 | A,4 | G,4 | F,4 |]', // Horn: F4 down to F3
                            'L:1/4\nB,,4 | A,,4 | G,,4 | F,,4 | E,,4 | D,,4 | C,,4 | B,,,4 |]', // Trombone: Bb2 down to Bb1
                            'L:1/4\nB,,,4 | A,,,4 | G,,,4 | F,,,4 | E,,,4 | D,,,4 | C,,,4 | B,,,,4 |]' // Tuba: Bb1 down
                        ] 
                    },
                    { 
                        title_en: '2. Flexibility', title_ua: '2. Гнучкість', 
                        keys: ['Bb', 'C', 'G', 'F', 'Bb', 'Bb'],
                        abc: [
                            'L:1/8\n(B, F B, F B,2) z2 | (C G C G C2) z2 | (D A D A D2) z2 | (E B E B E2) z2 |]', 
                            'L:1/8\n(C G C G C2) z2 | (D A D A D2) z2 | (E B E B E2) z2 | (F c F c F2) z2 |]', 
                            'L:1/8\n(G, D G, D G,2) z2 | (A, E A, E A,2) z2 | (B, F B, F B,2) z2 | (C G C G C2) z2 |]', 
                            'L:1/8\n(F, C F, C F,2) z2 | (G, D G, D G,2) z2 | (A, E A, E A,2) z2 | (B, F B, F B,2) z2 |]', 
                            'L:1/8\n(B,, F,, B,, F,, B,,2) z2 | (C, G,, C, G,, C,2) z2 | (D, A,, D, A,, D,2) z2 | (E, B,, E, B,, E,2) z2 |]', 
                            'L:1/8\n(B,,, F,,, B,,, F,,, B,,,2) z2 | (C,, G,,, C,, G,,, C,,2) z2 | (D,, A,,, D,, A,,, D,,2) z2 | (E,, B,,, E,, B,,, E,,2) z2 |]'
                        ] 
                    },
                    { 
                        title_en: '3. Articulation', title_ua: '3. Артикуляція', 
                        keys: ['Bb', 'C', 'G', 'F', 'Bb', 'Bb'],
                        abc: [
                            'L:1/8\n.F.F .F.F .F.F .F.F | F2 z2 F2 z2 | .B,.B, .B,.B, .B,.B, .B,.B, | B,2 z2 B,2 z2 |]', 
                            'L:1/8\n.G.G .G.G .G.G .G.G | G2 z2 G2 z2 | .C.C .C.C .C.C .C.C | C2 z2 C2 z2 |]', 
                            'L:1/8\n.D.D .D.D .D.D .D.D | D2 z2 D2 z2 | .G,.G, .G,.G, .G,.G, .G,.G, | G,2 z2 G,2 z2 |]', 
                            'L:1/8\n.C.C .C.C .C.C .C.C | C2 z2 C2 z2 | .F,.F, .F,.F, .F,.F, .F,.F, | F,2 z2 F,2 z2 |]', 
                            'L:1/8\n.F,,.F,, .F,,.F,, .F,,.F,, .F,,.F,, | F,,2 z2 F,,2 z2 | .B,,.B,, .B,,.B,, .B,,.B,, .B,,.B,, | B,,2 z2 B,,2 z2 |]', 
                            'L:1/8\n.F,,,.F,,, .F,,,.F,,, .F,,,.F,,, .F,,,.F,,, | F,,,2 z2 F,,,2 z2 | .B,,,.B,,, .B,,,.B,,, .B,,,.B,,, .B,,,.B,,, | B,,,2 z2 B,,,2 z2 |]'
                        ] 
                    },
                    { 
                        title_en: '4. Arpeggio', title_ua: '4. Арпеджіо', 
                        keys: ['Bb', 'C', 'G', 'F', 'Bb', 'Bb'],
                        abc: [
                            'L:1/8\nB, C D E F G A B | B A G F E D C B, | B, D F B B F D B, | B,8 |]', 
                            'L:1/8\nC D E F G A B c | c B A G F E D C | C E G c c G E C | C8 |]', 
                            'L:1/8\nG, A, B, C D E F G | G F E D C B, A, G, | G, B, D G G D B, G, | G,8 |]', 
                            'L:1/8\nF, G, A, B, C D E F | F E D C B, A, G, F, | F, A, C F F C A, F, | F,8 |]', 
                            'L:1/8\nB,, C, D, E, F, G, A, B, | B, A, G, F, E, D, C, B,, | B,, D, F, B, B, F, D, B,, | B,,8 |]', 
                            'L:1/8\nB,,, C,, D,, E,, F,, G,, A,, B,, | B,, A,, G,, F,, E,, D,, C,, B,,, | B,,, D,, F,, B,, B,, F,, D,, B,,, | B,,,8 |]'
                        ] 
                    }
                ],

                // FUNDAMENTAL SCALES (Accurate pedagogical ranges per instrument)
                scales: [
                    {
                        title_en: 'Concert Bb Major Scale', title_ua: 'Сі-бемоль мажор (Concert Bb)',
                        keys: ['Bb', 'C', 'G', 'F', 'Bb', 'Bb'],
                        abc: [
                            'L:1/8\nB c d e f g a b | b a g f e d c B | B8 |]', // Flute Bb
                            'L:1/8\nC D E F G A B c | c B A G F E D C | C8 |]', // Clarinet C
                            'L:1/8\nG A B c d e f g | g f e d c B A G | G8 |]', // Sax G
                            'L:1/8\nF G A B c d e f | f e d c B A G F | F8 |]', // Horn F
                            'L:1/8\nB,, C, D, E, F, G, A, B, | B, A, G, F, E, D, C, B,, | B,,8 |]', // Trombone Bb2
                            'L:1/8\nB,,, C,, D,, E,, F,, G,, A,, B,, | B,, A,, G,, F,, E,, D,, C,, B,,, | B,,,8 |]' // Tuba Bb1
                        ]
                    },
                    {
                        title_en: 'Concert Eb Major Scale', title_ua: 'Мі-бемоль мажор (Concert Eb)',
                        keys: ['Eb', 'F', 'C', 'Bb', 'Eb', 'Eb'],
                        abc: [
                            'L:1/8\nE F G A B c d e | e d c B A G F E | E8 |]', 
                            'L:1/8\nF G A B c d e f | f e d c B A G F | F8 |]', 
                            'L:1/8\nC D E F G A B c | c B A G F E D C | C8 |]', 
                            'L:1/8\nB, C D E F G A B | B A G F E D C B, | B,8 |]', 
                            'L:1/8\nE,, F,, G,, A,, B,, C, D, E, | E, D, C, B,, A,, G,, F,, E,, | E,,8 |]', // Tbn Eb2
                            'L:1/8\nE,,, F,,, G,,, A,,, B,,, C,, D,, E,, | E,, D,, C,, B,,, A,,, G,,, F,,, E,,, | E,,,8 |]' // Tuba Eb1
                        ]
                    },
                    {
                        title_en: 'Concert F Major Scale', title_ua: 'Фа мажор (Concert F)',
                        keys: ['F', 'G', 'D', 'C', 'F', 'F'],
                        abc: [
                            'L:1/8\nF G A B c d e f | f e d c B A G F | F8 |]', 
                            'L:1/8\nG A B c d e f g | g f e d c B A G | G8 |]', 
                            'L:1/8\nD E F G A B c d | d c B A G F E D | D8 |]', 
                            'L:1/8\nC D E F G A B c | c B A G F E D C | C8 |]', 
                            'L:1/8\nF,, G,, A,, B,, C, D, E, F, | F, E, D, C, B,, A,, G,, F,, | F,,8 |]', // Tbn F2
                            'L:1/8\nF,,, G,,, A,,, B,,, C,, D,, E,, F,, | F,, E,, D,, C,, B,,, A,,, G,,, F,,, | F,,,8 |]' // Tuba F1
                        ]
                    },
                    {
                        title_en: 'Concert Ab Major Scale', title_ua: 'Ля-бемоль мажор (Concert Ab)',
                        keys: ['Ab', 'Bb', 'F', 'Eb', 'Ab', 'Ab'],
                        abc: [
                            'L:1/8\nA B c d e f g a | a g f e d c B A | A8 |]', 
                            'L:1/8\nB, C D E F G A B | B A G F E D C B, | B,8 |]', 
                            'L:1/8\nF G A B c d e f | f e d c B A G F | F8 |]', 
                            'L:1/8\nE F G A B c d e | e d c B A G F E | E8 |]', 
                            'L:1/8\nA,, B,, C, D, E, F, G, A, | A, G, F, E, D, C, B,, A,, | A,,8 |]', // Tbn Ab2
                            'L:1/8\nA,,, B,,, C,, D,, E,, F,, G,, A,, | A,, G,, F,, E,, D,, C,, B,,, A,,, | A,,,8 |]' // Tuba Ab1
                        ]
                    },
                    {
                        title_en: 'Concert C Major Scale', title_ua: 'До мажор (Concert C)',
                        keys: ['C', 'D', 'A', 'G', 'C', 'C'],
                        abc: [
                            'L:1/8\nC D E F G A B c | c B A G F E D C | C8 |]', 
                            'L:1/8\nD E F G A B c d | d c B A G F E D | D8 |]', 
                            'L:1/8\nA, B, C D E F G A | A G F E D C B, A, | A,8 |]', 
                            'L:1/8\nG, A, B, C D E F G | G F E D C B, A, G, | G,8 |]', 
                            'L:1/8\nC,, D,, E,, F,, G,, A,, B,, C, | C, B,, A,, G,, F,, E,, D,, C,, | C,,8 |]', // Tbn C2
                            'L:1/8\nC,,, D,,, E,,, F,,, G,,, A,,, B,,, C,, | C,, B,,, A,,, G,,, F,,, E,,, D,,, C,,, | C,,,8 |]' // Tuba C1
                        ]
                    }
                ],

                async init() {
                    const today = new Date();
                    today.setHours(0,0,0,0);

                    const lastPracticedStr = this.practicedLog[this.practicedLog.length - 1];
                    if (lastPracticedStr) {
                        const last = new Date(lastPracticedStr);
                        const diffTime = today.getTime() - last.getTime();
                        const diffDays = Math.round(diffTime / (1000 * 60 * 60 * 24));
                        if (today.getDay() < last.getDay() || diffDays > 6) {
                            this.practicedLog = [];
                            localStorage.setItem('fubc_school_weekly_log', JSON.stringify([]));
                        }
                    }

                    if (this.lastPractice) {
                        const last = new Date(this.lastPractice);
                        last.setHours(0,0,0,0);
                        const diffTime = today.getTime() - last.getTime();
                        const diffDays = Math.round(diffTime / (1000 * 60 * 60 * 24));
                        if (diffDays === 0) { this.practicedToday = true; } 
                        else if (diffDays > 1) { this.streak = 0; localStorage.setItem('fubc_school_streak', 0); }
                    }
                    
                    try {
                        const response = await fetch('/data.json?t=' + new Date().getTime());
                        if (response.ok) {
                            const json = await response.json();
                            if(json.schoolSetlist) { this.schoolSongs = json.schoolSetlist; }
                        }
                    } catch(e) { console.log('Using default setlist offline.'); }

                    this.updateGlobalInstrument(this.globalInstrument);
                },

                get currentModalData() {
                    if(this.currentFullScreenType === 'exercises') return this.exercises[this.currentFullScreenIdx];
                    if(this.currentFullScreenType === 'scales') return this.scales[this.currentFullScreenIdx];
                    return {};
                },

                formatTime(seconds) {
                    const m = Math.floor(seconds / 60).toString().padStart(2, '0');
                    const s = (seconds % 60).toString().padStart(2, '0');
                    return `${m}:${s}`;
                },

                startSessionPhase(idx) {
                    this.sessionPhase = idx;
                    this.sessionTimeLeft = this.sessionPhases[idx].duration;
                    if(!this.sessionActive) {
                        this.sessionActive = true;
                        this.sessionTimer = setInterval(() => {
                            if (this.sessionTimeLeft > 0) {
                                this.sessionTimeLeft--;
                            } else {
                                clearInterval(this.sessionTimer);
                                this.sessionActive = false;
                                
                                this.totalMinutes += Math.round(this.sessionPhases[this.sessionPhase].duration / 60);
                                localStorage.setItem('fubc_total_minutes', this.totalMinutes);

                                if (this.sessionPhase < 2) {
                                    alert("Phase complete! Ready for the next one?");
                                } else {
                                    this.logPractice(); 
                                }
                            }
                        }, 1000);
                    }
                },

                toggleSession() {
                    if (this.sessionActive) {
                        clearInterval(this.sessionTimer);
                        this.sessionActive = false;
                        
                        let elapsedSeconds = this.sessionPhases[this.sessionPhase].duration - this.sessionTimeLeft;
                        if(elapsedSeconds > 60) {
                            this.totalMinutes += Math.floor(elapsedSeconds / 60);
                            localStorage.setItem('fubc_total_minutes', this.totalMinutes);
                            this.sessionTimeLeft = this.sessionPhases[this.sessionPhase].duration; 
                        }
                    } else {
                        this.startSessionPhase(this.sessionPhase);
                    }
                },

                updateGlobalInstrument(inst) {
                    this.globalInstrument = inst;
                    localStorage.setItem('fubc_school_instrument', inst);
                    
                    this.interactiveChart.instrument = inst;
                    this.interactiveChart.selectedNote = 0;
                    
                    let groupIdx = 0;
                    if (['Flute', 'Oboe'].includes(inst)) groupIdx = 0;
                    else if (['Clarinet', 'Trumpet'].includes(inst)) groupIdx = 1;
                    else if (['Saxophone', 'Tenor Horn'].includes(inst)) groupIdx = 2;
                    else if (['French Horn'].includes(inst)) groupIdx = 3;
                    else if (['Trombone', 'Baritone'].includes(inst)) groupIdx = 4;
                    else if (['Tuba'].includes(inst)) groupIdx = 5;
                    
                    this.selectedGroup = groupIdx;
                    this.$nextTick(() => { 
                        this.renderWarmups(); 
                        this.renderScales();
                    });
                },

                renderWarmups() {
                    if (typeof ABCJS !== 'undefined') {
                        const group = this.instrumentGroups[this.selectedGroup];
                        const scale = window.innerWidth < 640 ? 0.8 : 1.0;
                        const options = { responsive: 'resize', scale: scale, paddingbottom: 5, paddingtop: 15, paddingleft: 0, paddingright: 0 };
                        this.exercises.forEach((ex, idx) => {
                            const header = `X:${idx+1}\nM:4/4\nQ:1/4=100\nK:${ex.keys[this.selectedGroup]} clef=${group.clef}\n`;
                            ABCJS.renderAbc(`abc-warmup-${idx}`, header + ex.abc[this.selectedGroup], options);
                        });
                    }
                },

                renderScales() {
                    if (typeof ABCJS !== 'undefined') {
                        const group = this.instrumentGroups[this.selectedGroup];
                        const scale = window.innerWidth < 640 ? 0.8 : 1.0;
                        const options = { responsive: 'resize', scale: scale, paddingbottom: 5, paddingtop: 15, paddingleft: 0, paddingright: 0 };
                        this.scales.forEach((sc, idx) => {
                            const header = `X:${idx+1}\nM:4/4\nQ:1/4=100\nK:${sc.keys[this.selectedGroup]} clef=${group.clef}\n`;
                            ABCJS.renderAbc(`abc-scale-${idx}`, header + sc.abc[this.selectedGroup], options);
                        });
                    }
                },

                openFullScreen(idx, type) {
                    this.currentFullScreenIdx = idx;
                    this.currentFullScreenType = type;
                    this.fullScreenModalOpen = true;
                    
                    this.$nextTick(() => {
                        const group = this.instrumentGroups[this.selectedGroup];
                        const dataObj = this[type][idx];
                        const header = `X:${idx+1}\nM:4/4\nQ:1/4=100\nK:${dataObj.keys[this.selectedGroup]} clef=${group.clef}\n`;
                        const modalScale = window.innerWidth < 640 ? 1.0 : 1.8;
                        
                        var visualObj = ABCJS.renderAbc('abc-fullscreen', header + dataObj.abc[this.selectedGroup], { 
                            responsive: 'resize', scale: modalScale, paddingtop: 30, paddingbottom: 30, add_classes: true
                        })[0];

                        if(this.synthControl) { this.synthControl.pause(); }
                        this.synthControl = new ABCJS.synth.SynthController();
                        this.synthControl.load("#audio-control", null, { displayLoop: true, displayRestart: true, displayPlay: true, displayProgress: true, displayWarp: true });
                        
                        let program = 56; // Trumpet
                        if (group.clef === 'bass') program = 57; // Trombone
                        if (this.globalInstrument === 'Flute') program = 73;
                        if (this.globalInstrument === 'Clarinet') program = 71;
                        if (this.globalInstrument === 'Saxophone') program = 65;
                        if (this.globalInstrument === 'French Horn') program = 60;
                        if (this.globalInstrument === 'Tuba') program = 58;

                        var createSynth = new ABCJS.synth.CreateSynth();
                        createSynth.init({ visualObj: visualObj }).then(() => {
                            this.synthControl.setTune(visualObj, false, { program: program });
                        }).catch(console.warn);
                    });
                },

                closeFullScreen() {
                    this.fullScreenModalOpen = false;
                    if(this.synthControl) this.synthControl.pause();
                },

                logPractice() {
                    if(this.practicedToday) return;
                    this.streak++;
                    this.practicedToday = true;
                    const todayStr = new Date().toDateString();
                    this.lastPractice = todayStr;
                    
                    if(!this.practicedLog.includes(todayStr)) {
                        this.practicedLog.push(todayStr);
                        localStorage.setItem('fubc_school_weekly_log', JSON.stringify(this.practicedLog));
                    }

                    this.totalMinutes += 30;
                    localStorage.setItem('fubc_total_minutes', this.totalMinutes);

                    localStorage.setItem('fubc_school_streak', this.streak);
                    localStorage.setItem('fubc_school_last_date', this.lastPractice);
                    if(typeof confetti === 'function') {
                        confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 }, colors: ['#b45309', '#d97706', '#fcd34d', '#34d399', '#3b82f6'], zIndex: 1000 });
                    }
                },

                // Interactive Fingering Chart Data
                interactiveChart: {
                    instrument: 'Trumpet',
                    selectedRange: 'Mid',
                    selectedNote: 0,
                    ranges: ['Low', 'Mid', 'High'],
                    data: {
                        'Flute': { type: 'woodwind', notes: { 
                            'Low': [ { name: 'C', lh: [0,1,1,1], rh: [1,1,1,1] }, { name: 'D', lh: [1,1,1,1], rh: [1,1,1,0] }, { name: 'E', lh: [1,1,1,1], rh: [1,1,0,1] }, { name: 'F', lh: [1,1,1,1], rh: [1,0,0,1] }, { name: 'G', lh: [1,1,1,1], rh: [0,0,0,1] }, { name: 'A', lh: [1,1,1,0], rh: [0,0,0,1] }, { name: 'B', lh: [1,1,0,0], rh: [0,0,0,1] } ], 
                            'Mid': [ { name: 'C', lh: [0,1,0,0], rh: [0,0,0,1] }, { name: 'Db', lh: [0,0,0,0], rh: [0,0,0,1] }, { name: 'D', lh: [1,0,1,1], rh: [1,1,1,0] }, { name: 'Eb', lh: [1,0,1,1], rh: [1,1,1,1] }, { name: 'E', lh: [1,1,1,1], rh: [1,1,0,1] }, { name: 'F', lh: [1,1,1,1], rh: [1,0,0,1] }, { name: 'Gb', lh: [1,1,1,1], rh: [0,0,1,1] }, { name: 'G', lh: [1,1,1,1], rh: [0,0,0,1] }, { name: 'Ab', lh: [1,1,1,1], rh: [0,0,0,1] }, { name: 'A', lh: [1,1,1,0], rh: [0,0,0,1] }, { name: 'Bb', lh: [1,1,0,0], rh: [1,0,0,1] }, { name: 'B', lh: [1,1,0,0], rh: [0,0,0,1] }, { name: 'C↑', lh: [0,1,0,0], rh: [0,0,0,1] } ], 
                            'High': [ { name: 'C', lh: [0,1,0,0], rh: [0,0,0,1] }, { name: 'D', lh: [1,0,1,1], rh: [0,0,0,0] }, { name: 'E', lh: [1,1,1,0], rh: [1,1,0,1] }, { name: 'F', lh: [1,1,0,1], rh: [1,0,0,1] }, { name: 'G', lh: [1,0,1,1], rh: [0,0,0,1] }, { name: 'A', lh: [1,0,1,0], rh: [1,0,0,1] }, { name: 'B', lh: [1,0,0,0], rh: [0,0,0,1] } ] 
                        } },
                        'Oboe': { type: 'woodwind', notes: { 
                            'Low': [ { name: 'C', lh: [0,1,1,1], rh: [1,1,1,1] }, { name: 'D', lh: [0,1,1,1], rh: [1,1,1,0] }, { name: 'E', lh: [0,1,1,1], rh: [1,1,0,0] }, { name: 'F', lh: [0,1,1,1], rh: [1,0,0,0] }, { name: 'G', lh: [0,1,1,1], rh: [0,0,0,0] }, { name: 'A', lh: [0,1,1,0], rh: [0,0,0,0] }, { name: 'B', lh: [0,1,0,0], rh: [0,0,0,0] } ], 
                            'Mid': [ { name: 'C', lh: [0,0,1,0], rh: [0,0,0,0] }, { name: 'Db', lh: [0,0,0,0], rh: [0,0,0,0] }, { name: 'D', lh: [1,1,1,1], rh: [1,1,1,0] }, { name: 'Eb', lh: [1,1,1,1], rh: [1,1,1,1] }, { name: 'E', lh: [1,1,1,1], rh: [1,1,0,0] }, { name: 'F', lh: [1,1,1,1], rh: [1,0,0,0] }, { name: 'Gb', lh: [1,1,1,1], rh: [0,1,0,0] }, { name: 'G', lh: [1,1,1,1], rh: [0,0,0,0] }, { name: 'Ab', lh: [1,1,1,1], rh: [0,0,0,0] }, { name: 'A', lh: [1,1,1,0], rh: [0,0,0,0] }, { name: 'Bb', lh: [1,1,0,0], rh: [1,0,0,0] }, { name: 'B', lh: [1,1,0,0], rh: [0,0,0,0] }, { name: 'C↑', lh: [1,0,1,0], rh: [0,0,0,0] } ], 
                            'High': [ { name: 'C', lh: [1,0,1,0], rh: [0,0,0,0] }, { name: 'D', lh: [1,0,1,1], rh: [0,0,0,0] }, { name: 'E', lh: [1,0,1,0], rh: [1,0,0,0] }, { name: 'F', lh: [1,0,1,0], rh: [0,1,0,0] }, { name: 'G', lh: [1,0,1,0], rh: [0,0,0,0] }, { name: 'A', lh: [1,0,1,1], rh: [0,0,0,0] }, { name: 'B', lh: [1,0,0,0], rh: [0,0,0,0] } ] 
                        } },
                        'Clarinet': { type: 'woodwind', notes: { 
                            'Low': [ { name: 'E', lh: [1,1,1,1], rh: [1,1,1,1] }, { name: 'F', lh: [1,1,1,1], rh: [1,1,1,0] }, { name: 'G', lh: [1,1,1,1], rh: [1,1,0,0] }, { name: 'A', lh: [1,1,1,1], rh: [1,0,0,0] }, { name: 'B', lh: [1,1,1,1], rh: [0,0,0,0] }, { name: 'C', lh: [1,1,1,0], rh: [0,0,0,0] } ], 
                            'Mid': [ { name: 'C', lh: [1,1,1,0], rh: [0,0,0,0] }, { name: 'Db', lh: [1,1,1,0], rh: [0,0,0,0] }, { name: 'D', lh: [1,1,0,0], rh: [0,0,0,0] }, { name: 'Eb', lh: [1,1,0,0], rh: [0,0,0,0] }, { name: 'E', lh: [1,0,0,0], rh: [0,0,0,0] }, { name: 'F', lh: [0,0,0,0], rh: [0,0,0,0] }, { name: 'Gb', lh: [0,0,0,0], rh: [0,0,0,0] }, { name: 'G', lh: [0,0,0,0], rh: [0,0,0,0] }, { name: 'Ab', lh: [0,0,0,0], rh: [0,0,0,0] }, { name: 'A', lh: [0,0,0,0], rh: [0,0,0,0] }, { name: 'Bb', lh: [0,0,0,0], rh: [0,0,0,0] }, { name: 'B', lh: [1,1,1,1], rh: [1,1,1,1] }, { name: 'C↑', lh: [1,1,1,1], rh: [1,1,1,0] } ], 
                            'High': [ { name: 'C', lh: [1,1,1,1], rh: [1,1,1,0] }, { name: 'D', lh: [1,1,1,1], rh: [1,1,0,0] }, { name: 'E', lh: [1,1,1,1], rh: [1,0,0,0] }, { name: 'F', lh: [1,1,1,1], rh: [0,0,0,0] }, { name: 'G', lh: [1,1,1,0], rh: [0,0,0,0] }, { name: 'A', lh: [1,1,0,0], rh: [0,0,0,0] } ] 
                        } },
                        'Saxophone': { type: 'woodwind', notes: { 
                            'Low': [ { name: 'Bb', lh: [0,1,1,1], rh: [1,1,1,1] }, { name: 'C', lh: [0,1,1,1], rh: [1,1,1,0] }, { name: 'D', lh: [0,1,1,1], rh: [1,1,1,0] }, { name: 'E', lh: [0,1,1,1], rh: [1,1,0,0] }, { name: 'F', lh: [0,1,1,1], rh: [1,0,0,0] } ], 
                            'Mid': [ { name: 'G', lh: [0,1,1,1], rh: [0,0,0,0] }, { name: 'Ab', lh: [0,1,1,1], rh: [0,0,0,0] }, { name: 'A', lh: [0,1,1,0], rh: [0,0,0,0] }, { name: 'Bb', lh: [0,1,1,0], rh: [1,0,0,0] }, { name: 'B', lh: [0,1,0,0], rh: [0,0,0,0] }, { name: 'C', lh: [0,0,1,0], rh: [0,0,0,0] }, { name: 'Db', lh: [0,0,0,0], rh: [0,0,0,0] }, { name: 'D', lh: [1,1,1,1], rh: [1,1,1,0] }, { name: 'Eb', lh: [1,1,1,1], rh: [1,1,1,1] }, { name: 'E', lh: [1,1,1,1], rh: [1,1,0,0] }, { name: 'F', lh: [1,1,1,1], rh: [1,0,0,0] }, { name: 'Gb', lh: [1,1,1,1], rh: [0,1,0,0] }, { name: 'G↑', lh: [1,1,1,1], rh: [0,0,0,0] } ], 
                            'High': [ { name: 'G', lh: [1,1,1,1], rh: [0,0,0,0] }, { name: 'A', lh: [1,1,1,0], rh: [0,0,0,0] }, { name: 'B', lh: [1,1,0,0], rh: [0,0,0,0] }, { name: 'C', lh: [1,0,1,0], rh: [0,0,0,0] }, { name: 'D', lh: [1,0,0,0], rh: [0,0,0,0] }, { name: 'E', lh: [1,1,1,1], rh: [1,1,0,0] }, { name: 'F', lh: [1,1,0,1], rh: [1,0,0,0] } ] 
                        } },
                        'Trumpet': { type: 'valves', notes: { 
                            'Low': [ { name: 'F#', val: [1,1,1] }, { name: 'G', val: [1,0,1] }, { name: 'Ab', val: [0,1,1] }, { name: 'A', val: [1,1,0] }, { name: 'Bb', val: [1,0,0] }, { name: 'B', val: [0,1,0] }, { name: 'C', val: [0,0,0] } ], 
                            'Mid': [ { name: 'C', val: [0,0,0] }, { name: 'C#/Db', val: [1,1,1] }, { name: 'D', val: [1,0,1] }, { name: 'Eb', val: [0,1,1] }, { name: 'E', val: [1,1,0] }, { name: 'F', val: [1,0,0] }, { name: 'F#/Gb', val: [0,1,0] }, { name: 'G', val: [0,0,0] }, { name: 'Ab', val: [0,1,1] }, { name: 'A', val: [1,1,0] }, { name: 'Bb', val: [1,0,0] }, { name: 'B', val: [0,1,0] }, { name: 'C↑', val: [0,0,0] } ], 
                            'High': [ { name: 'C', val: [0,0,0] }, { name: 'D', val: [1,0,0] }, { name: 'E', val: [0,0,0] }, { name: 'F', val: [1,0,0] }, { name: 'G', val: [0,0,0] }, { name: 'A', val: [1,1,0] }, { name: 'B', val: [0,1,0] }, { name: 'C↑', val: [0,0,0] } ] 
                        } },
                        'French Horn': { type: 'valves', notes: { 
                            'Low': [ { name: 'C', val: [0,0,0] }, { name: 'D', val: [1,0,1] }, { name: 'E', val: [0,1,0] }, { name: 'F', val: [0,0,0] }, { name: 'G', val: [0,0,0] }, { name: 'A', val: [1,1,0] }, { name: 'B', val: [0,1,0] } ], 
                            'Mid': [ { name: 'C', val: [0,0,0] }, { name: 'Db', val: [1,1,0] }, { name: 'D', val: [1,0,0] }, { name: 'Eb', val: [0,1,0] }, { name: 'E', val: [0,0,0] }, { name: 'F', val: [1,0,0] }, { name: 'Gb', val: [0,1,0] }, { name: 'G', val: [0,0,0] }, { name: 'Ab', val: [0,1,1] }, { name: 'A', val: [1,1,0] }, { name: 'Bb', val: [1,0,0] }, { name: 'B', val: [0,1,0] }, { name: 'C↑', val: [0,0,0] } ], 
                            'High': [ { name: 'C', val: [0,0,0] }, { name: 'D', val: [1,0,0] }, { name: 'E', val: [0,0,0] }, { name: 'F', val: [1,0,0] }, { name: 'G', val: [0,0,0] }, { name: 'A', val: [1,1,0] }, { name: 'B', val: [0,1,0] }, { name: 'C↑', val: [0,0,0] } ] 
                        } },
                        'Tenor Horn': { type: 'valves', notes: { 
                            'Low': [ { name: 'F#', val: [1,1,1] }, { name: 'G', val: [1,0,1] }, { name: 'Ab', val: [0,1,1] }, { name: 'A', val: [1,1,0] }, { name: 'Bb', val: [1,0,0] }, { name: 'B', val: [0,1,0] }, { name: 'C', val: [0,0,0] } ], 
                            'Mid': [ { name: 'C', val: [0,0,0] }, { name: 'C#/Db', val: [1,1,1] }, { name: 'D', val: [1,0,1] }, { name: 'Eb', val: [0,1,1] }, { name: 'E', val: [1,1,0] }, { name: 'F', val: [1,0,0] }, { name: 'F#/Gb', val: [0,1,0] }, { name: 'G', val: [0,0,0] }, { name: 'Ab', val: [0,1,1] }, { name: 'A', val: [1,1,0] }, { name: 'Bb', val: [1,0,0] }, { name: 'B', val: [0,1,0] }, { name: 'C↑', val: [0,0,0] } ], 
                            'High': [ { name: 'C', val: [0,0,0] }, { name: 'D', val: [1,0,0] }, { name: 'E', val: [0,0,0] }, { name: 'F', val: [1,0,0] }, { name: 'G', val: [0,0,0] }, { name: 'A', val: [1,1,0] }, { name: 'B', val: [0,1,0] }, { name: 'C↑', val: [0,0,0] } ] 
                        } },
                        'Baritone': { type: 'valves', notes: { 
                            'Low': [ { name: 'E', val: [1,1,1] }, { name: 'F', val: [1,0,1] }, { name: 'G', val: [1,1,0] }, { name: 'Ab', val: [1,0,0] }, { name: 'A', val: [0,1,0] }, { name: 'Bb', val: [0,0,0] } ], 
                            'Mid': [ { name: 'Bb', val: [0,0,0] }, { name: 'B', val: [1,1,1] }, { name: 'C', val: [1,0,1] }, { name: 'Db', val: [0,1,1] }, { name: 'D', val: [1,1,0] }, { name: 'Eb', val: [1,0,0] }, { name: 'E', val: [0,1,0] }, { name: 'F', val: [0,0,0] }, { name: 'Gb', val: [0,1,1] }, { name: 'G', val: [1,1,0] }, { name: 'Ab', val: [1,0,0] }, { name: 'A', val: [0,1,0] }, { name: 'Bb↑', val: [0,0,0] } ], 
                            'High': [ { name: 'Bb', val: [0,0,0] }, { name: 'C', val: [1,0,0] }, { name: 'D', val: [1,1,0] }, { name: 'Eb', val: [1,0,0] }, { name: 'F', val: [0,0,0] }, { name: 'G', val: [0,0,0] }, { name: 'A', val: [0,1,0] }, { name: 'Bb↑', val: [0,0,0] } ] 
                        } },
                        'Trombone': { type: 'slide', notes: { 
                            'Low': [ { name: 'E', pos: 7 }, { name: 'F', pos: 6 }, { name: 'G', pos: 4 }, { name: 'Ab', pos: 3 }, { name: 'A', pos: 2 }, { name: 'Bb', pos: 1 } ], 
                            'Mid': [ { name: 'Bb', pos: 1 }, { name: 'B', pos: 7 }, { name: 'C', pos: 6 }, { name: 'Db', pos: 5 }, { name: 'D', pos: 4 }, { name: 'Eb', pos: 3 }, { name: 'E', pos: 2 }, { name: 'F', pos: 1 }, { name: 'Gb', pos: 5 }, { name: 'G', pos: 4 }, { name: 'Ab', pos: 3 }, { name: 'A', pos: 2 }, { name: 'Bb↑', pos: 1 } ], 
                            'High': [ { name: 'Bb', pos: 1 }, { name: 'C', pos: 3 }, { name: 'D', pos: 1 }, { name: 'Eb', pos: 3 }, { name: 'F', pos: 1 }, { name: 'G', pos: 2 }, { name: 'Ab', pos: 3 }, { name: 'Bb↑', pos: 1 } ] 
                        } },
                        'Tuba': { type: 'valves', notes: { 
                            'Low': [ { name: 'E', val: [1,1,1] }, { name: 'F', val: [1,0,1] }, { name: 'G', val: [1,1,0] }, { name: 'Ab', val: [1,0,0] }, { name: 'A', val: [0,1,0] }, { name: 'Bb', val: [0,0,0] } ], 
                            'Mid': [ { name: 'Bb', val: [0,0,0] }, { name: 'B', val: [1,1,1] }, { name: 'C', val: [1,0,1] }, { name: 'Db', val: [0,1,1] }, { name: 'D', val: [1,1,0] }, { name: 'Eb', val: [1,0,0] }, { name: 'E', val: [0,1,0] }, { name: 'F', val: [0,0,0] }, { name: 'Gb', val: [0,1,1] }, { name: 'G', val: [1,1,0] }, { name: 'Ab', val: [1,0,0] }, { name: 'A', val: [0,1,0] }, { name: 'Bb↑', val: [0,0,0] } ], 
                            'High': [ { name: 'Bb', val: [0,0,0] }, { name: 'C', val: [1,0,0] }, { name: 'D', val: [1,1,0] }, { name: 'Eb', val: [1,0,0] }, { name: 'F', val: [0,0,0] }, { name: 'G', val: [0,0,0] }, { name: 'A', val: [0,1,0] }, { name: 'Bb↑', val: [0,0,0] } ] 
                        } }
                    }
                }
            }));
        });
    </script>
</body>
</html>
